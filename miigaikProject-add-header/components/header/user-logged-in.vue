<template>
    <div class="header-tool__wrapper header-tool__profile">
        <button class="header-tool" @click="openModal">
            <div class="header-tool_icon">
                <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M7 7c0-2.763 2.238-5 5-5 2.763 0 5 2.237 5 5 0 2.762-2.237 5-5 5-2.762 0-5-2.238-5-5zm5 8.382c3.713 0 7.903 2.068 7.903 2.868v1.687H4.132v-1.93c0-.8 4.155-2.625 7.868-2.625zm0-2.132c-3.338 0-10 1.675-10 5v2.5c0 .687.563 1.25 1.25 1.25h17.5c.688 0 1.25-.563 1.25-1.25v-2.5c0-3.325-6.662-5-10-5zm0-3.481a2.778 2.778 0 100-5.555 2.778 2.778 0 000 5.555z"
                        fill="#282828"
                    >
                    </path>
                </svg>
            </div>
            <div class="header-tool__text">
                Профиль
            </div>
        </button>
    </div>
</template>

<script>

export default{
    data() {
        return {
            isModalOpened: false
        }
    },
    watch: {
        isModalOpened(isVisible) {
            return isVisible ? this.$disableBodyScroll() : this.$enableBodyScroll();
        }
    },
    methods: {
        openModal() {
            this.isModalOpened = true;
            document.addEventListener('keydown', this.onEscPress);
        },
        closeModal() {
            this.isModalOpened = false;
            document.removeEventListener('keydown', this.onEscPress);
        },
        onEscPress(evt) {
            if (evt.key === 'Escape') {
                this.closeModal();
            }
        }
    }
}
</script>

<style lang="scss">
.header-tool__blank {
    animation-delay: 0.25s;
}

.header-tool {
    appearance: none;
    border: none;
    background-color: transparent;
}

.header-tool__wrapper {
    position: relative;
}

.header-tool__profile {
    order: 2;

    @media (min-width: $desktop-mid) {
        order: 0;
    }
}
</style>